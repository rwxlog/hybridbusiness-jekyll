---
layout: default
title: Posts
---

<main class="container main">

  <section class="post-list">
    {% assign filtered_posts = site.posts %}

    {%- comment -%}
    If the page has a `category` variable in front matter
    (e.g., category: faith), filter posts by that category.
    Otherwise, show all posts.
    {%- endcomment -%}
    {% if page.category %}
      {% assign filtered_posts = site.posts | where_exp: "post", "post.categories contains page.category" %}
    {% endif %}

    {% for post in filtered_posts %}
    <article class="post-excerpt">
      <h2><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
      <p class="meta">{{ post.date | date: "%b %-d, %Y" }}{% if post.reading_time %} · {{ post.reading_time }} min read{% endif %}</p>
      {% if post.long_summary %}
        <p>{{ post.long_summary }}</p>
      {% endif %}
      <a class="read-more" href="{{ post.url | relative_url }}">Read more →</a>
    </article>
    {% endfor %}

    <!-- Pagination (optional; works only on the main posts list, not filtered categories) -->
    {% if paginator and paginator.total_pages > 1 %}
    <nav class="pagination">
      {% if paginator.previous_page %}
        <a class="prev" href="{{ paginator.previous_page_path }}">← Previous</a>
      {% endif %}
      {% if paginator.next_page %}
        <a class="next" href="{{ paginator.next_page_path }}">Next →</a>
      {% endif %}
    </nav>
    {% endif %}
  </section>

</main>
